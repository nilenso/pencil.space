{
"version":3,
"file":"module$node_modules$roughjs$bin$fillers$zigzag_line_filler.js",
"lineCount":5,
"mappings":"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",
"sources":["node_modules/roughjs/bin/fillers/zigzag-line-filler.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$roughjs$bin$fillers$zigzag_line_filler\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ZigZagLineFiller = void 0;\n\nvar _geometry = require(\"../geometry\");\n\nvar _scanLineHachure = require(\"./scan-line-hachure\");\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar ZigZagLineFiller =\n/*#__PURE__*/\nfunction () {\n  function ZigZagLineFiller(helper) {\n    _classCallCheck(this, ZigZagLineFiller);\n\n    this.helper = helper;\n  }\n\n  _createClass(ZigZagLineFiller, [{\n    key: \"fillPolygon\",\n    value: function fillPolygon(points, o) {\n      var gap = o.hachureGap < 0 ? o.strokeWidth * 4 : o.hachureGap;\n      var zo = o.zigzagOffset < 0 ? gap : o.zigzagOffset;\n      o = Object.assign({}, o, {\n        hachureGap: gap + zo\n      });\n      var lines = (0, _scanLineHachure.polygonHachureLines)(points, o);\n      return {\n        type: 'fillSketch',\n        ops: this.zigzagLines(lines, zo, o)\n      };\n    }\n  }, {\n    key: \"zigzagLines\",\n    value: function zigzagLines(lines, zo, o) {\n      var _this = this;\n\n      var ops = [];\n      lines.forEach(function (line) {\n        var length = (0, _geometry.lineLength)(line);\n        var count = Math.round(length / (2 * zo));\n        var p1 = line[0];\n        var p2 = line[1];\n\n        if (p1[0] > p2[0]) {\n          p1 = line[1];\n          p2 = line[0];\n        }\n\n        var alpha = Math.atan((p2[1] - p1[1]) / (p2[0] - p1[0]));\n\n        for (var i = 0; i < count; i++) {\n          var lstart = i * 2 * zo;\n          var lend = (i + 1) * 2 * zo;\n          var dz = Math.sqrt(2 * Math.pow(zo, 2));\n          var start = [p1[0] + lstart * Math.cos(alpha), p1[1] + lstart * Math.sin(alpha)];\n          var end = [p1[0] + lend * Math.cos(alpha), p1[1] + lend * Math.sin(alpha)];\n          var middle = [start[0] + dz * Math.cos(alpha + Math.PI / 4), start[1] + dz * Math.sin(alpha + Math.PI / 4)];\n          ops = ops.concat(_this.helper.doubleLineOps(start[0], start[1], middle[0], middle[1], o));\n          ops = ops.concat(_this.helper.doubleLineOps(middle[0], middle[1], end[0], end[1], o));\n        }\n      });\n      return ops;\n    }\n  }]);\n\n  return ZigZagLineFiller;\n}();\n\nexports.ZigZagLineFiller = ZigZagLineFiller;\n};"],
"names":["shadow$provide","global","require","module","exports","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","Constructor","protoProps","staticProps","prototype","value","ZigZagLineFiller","_geometry","_scanLineHachure","helper","instance","TypeError","fillPolygon","points","o","gap","hachureGap","strokeWidth","zo","zigzagOffset","assign","lines","polygonHachureLines","type","ops","zigzagLines","_this","forEach","line","lineLength","count","Math","round","p1","p2","alpha","atan","lstart","lend","dz","sqrt","pow","start","cos","sin","end","middle","PI","concat","doubleLineOps"]
}
