{
"version":3,
"file":"goog.net.xhrmanager.js",
"lineCount":379,
"mappings":"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",
"sources":["goog/net/xhrmanager.js"],
"sourcesContent":["// Copyright 2006 The Closure Library Authors. All Rights Reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS-IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/**\n * @fileoverview Manages a pool of XhrIo's. This handles all the details of\n * dealing with the XhrPool and provides a simple interface for sending requests\n * and managing events.\n *\n * This class supports queueing & prioritization of requests (XhrIoPool\n * handles this) and retrying of requests.\n *\n * The events fired by the XhrManager are an aggregation of the events of\n * each of its XhrIo objects (with some filtering, i.e., ERROR only called\n * when there are no more retries left). For this reason, all send requests have\n * to have an id, so that the user of this object can know which event is for\n * which request.\n *\n */\n\ngoog.provide('goog.net.XhrManager');\ngoog.provide('goog.net.XhrManager.Event');\ngoog.provide('goog.net.XhrManager.Request');\n\ngoog.require('goog.events');\ngoog.require('goog.events.Event');\ngoog.require('goog.events.EventHandler');\ngoog.require('goog.events.EventTarget');\ngoog.require('goog.net.ErrorCode');\ngoog.require('goog.net.EventType');\ngoog.require('goog.net.XhrIo');\ngoog.require('goog.net.XhrIoPool');\ngoog.require('goog.structs.Map');\n\n// TODO(user): Add some time in between retries.\n\n\n\n/**\n * A manager of an XhrIoPool.\n * @param {number=} opt_maxRetries Max. number of retries (Default: 1).\n * @param {goog.structs.Map=} opt_headers Map of default headers to add to every\n *     request.\n * @param {number=} opt_minCount Min. number of objects (Default: 0).\n * @param {number=} opt_maxCount Max. number of objects (Default: 10).\n * @param {number=} opt_timeoutInterval Timeout (in ms) before aborting an\n *     attempt (Default: 0ms).\n * @param {boolean=} opt_withCredentials Add credentials to every request\n *     (Default: false).\n * @constructor\n * @extends {goog.events.EventTarget}\n */\ngoog.net.XhrManager = function(\n    opt_maxRetries, opt_headers, opt_minCount, opt_maxCount,\n    opt_timeoutInterval, opt_withCredentials) {\n  goog.net.XhrManager.base(this, 'constructor');\n\n  /**\n   * Maximum number of retries for a given request\n   * @type {number}\n   * @private\n   */\n  this.maxRetries_ = (opt_maxRetries !== undefined) ? opt_maxRetries : 1;\n\n  /**\n   * Timeout interval for an attempt of a given request.\n   * @type {number}\n   * @private\n   */\n  this.timeoutInterval_ = (opt_timeoutInterval !== undefined) ?\n      Math.max(0, opt_timeoutInterval) :\n      0;\n\n  /**\n   * Add credentials to every request.\n   * @private {boolean}\n   */\n  this.withCredentials_ = !!opt_withCredentials;\n\n  /**\n   * The pool of XhrIo's to use.\n   * @type {goog.net.XhrIoPool}\n   * @private\n   */\n  this.xhrPool_ = new goog.net.XhrIoPool(\n      opt_headers, opt_minCount, opt_maxCount, opt_withCredentials);\n\n  /**\n   * Map of ID's to requests.\n   * @type {goog.structs.Map<string, !goog.net.XhrManager.Request>}\n   * @private\n   */\n  this.requests_ = new goog.structs.Map();\n\n  /**\n   * The event handler.\n   * @type {goog.events.EventHandler<!goog.net.XhrManager>}\n   * @private\n   */\n  this.eventHandler_ = new goog.events.EventHandler(this);\n};\ngoog.inherits(goog.net.XhrManager, goog.events.EventTarget);\n\n\n/**\n * Error to throw when a send is attempted with an ID that the manager already\n * has registered for another request.\n * @type {string}\n * @private\n */\ngoog.net.XhrManager.ERROR_ID_IN_USE_ = '[goog.net.XhrManager] ID in use';\n\n\n/**\n * The goog.net.EventType's to listen/unlisten for on the XhrIo object.\n * @type {Array<goog.net.EventType>}\n * @private\n */\ngoog.net.XhrManager.XHR_EVENT_TYPES_ = [\n  goog.net.EventType.READY, goog.net.EventType.COMPLETE,\n  goog.net.EventType.SUCCESS, goog.net.EventType.ERROR,\n  goog.net.EventType.ABORT, goog.net.EventType.TIMEOUT\n];\n\n\n/**\n * Sets the number of milliseconds after which an incomplete request will be\n * aborted. Zero means no timeout is set.\n * @param {number} ms Timeout interval in milliseconds; 0 means none.\n */\ngoog.net.XhrManager.prototype.setTimeoutInterval = function(ms) {\n  this.timeoutInterval_ = Math.max(0, ms);\n};\n\n\n/**\n * Returns the number of requests either in flight, or waiting to be sent.\n * The count will include the current request if used within a COMPLETE event\n * handler or callback.\n * @return {number} The number of requests in flight or pending send.\n */\ngoog.net.XhrManager.prototype.getOutstandingCount = function() {\n  return this.requests_.getCount();\n};\n\n\n/**\n * Returns an array of request ids that are either in flight, or waiting to\n * be sent. The id of the current request will be included if used within a\n * COMPLETE event handler or callback.\n * @return {!Array<string>} Request ids in flight or pending send.\n */\ngoog.net.XhrManager.prototype.getOutstandingRequestIds = function() {\n  return this.requests_.getKeys();\n};\n\n\n/**\n * Registers the given request to be sent. Throws an error if a request\n * already exists with the given ID.\n * NOTE: It is not sent immediately. It is buffered and will be sent when an\n * XhrIo object becomes available, taking into account the request's\n * priority. Note also that requests of equal priority are sent in an\n * implementation specific order - to get FIFO queue semantics use a\n * monotonically increasing priority for successive requests.\n * @param {string} id The id of the request.\n * @param {string} url Uri to make the request to.\n * @param {string=} opt_method Send method, default: GET.\n * @param {ArrayBuffer|ArrayBufferView|Blob|Document|FormData|string=}\n *     opt_content Post data.\n * @param {Object|goog.structs.Map=} opt_headers Map of headers to add to the\n *     request.\n * @param {number=} opt_priority The priority of the request. A smaller value\n *     means a higher priority.\n * @param {Function=} opt_callback Callback function for when request is\n *     complete. The only param is the event object from the COMPLETE event.\n * @param {number=} opt_maxRetries The maximum number of times the request\n *     should be retried.\n * @param {goog.net.XhrIo.ResponseType=} opt_responseType The response type of\n *     this request; defaults to goog.net.XhrIo.ResponseType.DEFAULT.\n * @param {boolean=} opt_withCredentials Add credentials to this request,\n *     default: false.\n * @return {!goog.net.XhrManager.Request} The queued request object.\n */\ngoog.net.XhrManager.prototype.send = function(\n    id, url, opt_method, opt_content, opt_headers, opt_priority, opt_callback,\n    opt_maxRetries, opt_responseType, opt_withCredentials) {\n  var requests = this.requests_;\n  // Check if there is already a request with the given id.\n  if (requests.get(id)) {\n    throw new Error(goog.net.XhrManager.ERROR_ID_IN_USE_);\n  }\n\n  // Make the Request object.\n  var request = new goog.net.XhrManager.Request(\n      url, goog.bind(this.handleEvent_, this, id), opt_method, opt_content,\n      opt_headers, opt_callback,\n      opt_maxRetries !== undefined ? opt_maxRetries : this.maxRetries_,\n      opt_responseType,\n      opt_withCredentials !== undefined ? opt_withCredentials :\n                                          this.withCredentials_);\n  this.requests_.set(id, request);\n\n  // Setup the callback for the pool.\n  var callback = goog.bind(this.handleAvailableXhr_, this, id);\n  this.xhrPool_.getObject(callback, opt_priority);\n\n  return request;\n};\n\n\n/**\n * Aborts the request associated with id.\n * @param {string} id The id of the request to abort.\n * @param {boolean=} opt_force If true, remove the id now so it can be reused.\n *     No events are fired and the callback is not called when forced.\n */\ngoog.net.XhrManager.prototype.abort = function(id, opt_force) {\n  var request = this.requests_.get(id);\n  if (request) {\n    var xhrIo = request.xhrIo;\n    request.setAborted(true);\n    if (opt_force) {\n      if (xhrIo) {\n        // We remove listeners to make sure nothing gets called if a new request\n        // with the same id is made.\n        this.removeXhrListener_(xhrIo, request.getXhrEventCallback());\n        goog.events.listenOnce(xhrIo, goog.net.EventType.READY, function() {\n          this.xhrPool_.releaseObject(xhrIo);\n        }, false, this);\n      }\n      this.requests_.remove(id);\n    }\n    if (xhrIo) {\n      xhrIo.abort();\n    }\n  }\n};\n\n\n/**\n * Handles when an XhrIo object becomes available. Sets up the events, fires\n * the READY event, and starts the process to send the request.\n * @param {string} id The id of the request the XhrIo is for.\n * @param {goog.net.XhrIo} xhrIo The available XhrIo object.\n * @private\n */\ngoog.net.XhrManager.prototype.handleAvailableXhr_ = function(id, xhrIo) {\n  var request = this.requests_.get(id);\n  // Make sure the request doesn't already have an XhrIo attached. This can\n  // happen if a forced abort occurs before an XhrIo is available, and a new\n  // request with the same id is made.\n  if (request && !request.xhrIo) {\n    this.addXhrListener_(xhrIo, request.getXhrEventCallback());\n\n    // Set properties for the XhrIo.\n    xhrIo.setTimeoutInterval(this.timeoutInterval_);\n    xhrIo.setResponseType(request.getResponseType());\n    xhrIo.setWithCredentials(request.getWithCredentials());\n\n    // Add a reference to the XhrIo object to the request.\n    request.xhrIo = xhrIo;\n\n    // Notify the listeners.\n    this.dispatchEvent(\n        new goog.net.XhrManager.Event(\n            goog.net.EventType.READY, this, id, xhrIo));\n\n    // Send the request.\n    this.retry_(id, xhrIo);\n\n    // If the request was aborted before it got an XhrIo object, abort it now.\n    if (request.getAborted()) {\n      xhrIo.abort();\n    }\n  } else {\n    // If the request has an XhrIo object already, or no request exists, just\n    // return the XhrIo back to the pool.\n    this.xhrPool_.releaseObject(xhrIo);\n  }\n};\n\n\n/**\n * Handles all events fired by the XhrIo object for a given request.\n * @param {string} id The id of the request.\n * @param {goog.events.Event} e The event.\n * @return {Object} The return value from the handler, if any.\n * @private\n */\ngoog.net.XhrManager.prototype.handleEvent_ = function(id, e) {\n  var xhrIo = /** @type {goog.net.XhrIo} */ (e.target);\n  switch (e.type) {\n    case goog.net.EventType.READY:\n      this.retry_(id, xhrIo);\n      break;\n\n    case goog.net.EventType.COMPLETE:\n      return this.handleComplete_(id, xhrIo, e);\n\n    case goog.net.EventType.SUCCESS:\n      this.handleSuccess_(id, xhrIo);\n      break;\n\n    // A timeout is handled like an error.\n    case goog.net.EventType.TIMEOUT:\n    case goog.net.EventType.ERROR:\n      this.handleError_(id, xhrIo);\n      break;\n\n    case goog.net.EventType.ABORT:\n      this.handleAbort_(id, xhrIo);\n      break;\n  }\n  return null;\n};\n\n\n/**\n * Attempts to retry the given request. If the request has already attempted\n * the maximum number of retries, then it removes the request and releases\n * the XhrIo object back into the pool.\n * @param {string} id The id of the request.\n * @param {goog.net.XhrIo} xhrIo The XhrIo object.\n * @private\n */\ngoog.net.XhrManager.prototype.retry_ = function(id, xhrIo) {\n  var request = this.requests_.get(id);\n\n  // If the request has not completed and it is below its max. retries.\n  if (request && !request.getCompleted() && !request.hasReachedMaxRetries()) {\n    request.increaseAttemptCount();\n    xhrIo.send(\n        request.getUrl(), request.getMethod(), request.getContent(),\n        request.getHeaders());\n  } else {\n    if (request) {\n      // Remove the events on the XhrIo objects.\n      this.removeXhrListener_(xhrIo, request.getXhrEventCallback());\n\n      // Remove the request.\n      this.requests_.remove(id);\n    }\n    // Release the XhrIo object back into the pool.\n    this.xhrPool_.releaseObject(xhrIo);\n  }\n};\n\n\n/**\n * Handles the complete of a request. Dispatches the COMPLETE event and sets the\n * the request as completed if the request has succeeded, or is done retrying.\n * @param {string} id The id of the request.\n * @param {goog.net.XhrIo} xhrIo The XhrIo object.\n * @param {goog.events.Event} e The original event.\n * @return {Object} The return value from the callback, if any.\n * @private\n */\ngoog.net.XhrManager.prototype.handleComplete_ = function(id, xhrIo, e) {\n  // Only if the request is done processing should a COMPLETE event be fired.\n  var request = this.requests_.get(id);\n  if (xhrIo.getLastErrorCode() == goog.net.ErrorCode.ABORT ||\n      xhrIo.isSuccess() || request.hasReachedMaxRetries()) {\n    this.dispatchEvent(\n        new goog.net.XhrManager.Event(\n            goog.net.EventType.COMPLETE, this, id, xhrIo));\n\n    // If the request exists, we mark it as completed and call the callback\n    if (request) {\n      request.setCompleted(true);\n      // Call the complete callback as if it was set as a COMPLETE event on the\n      // XhrIo directly.\n      if (request.getCompleteCallback()) {\n        return request.getCompleteCallback().call(xhrIo, e);\n      }\n    }\n  }\n  return null;\n};\n\n\n/**\n * Handles the abort of an underlying XhrIo object.\n * @param {string} id The id of the request.\n * @param {goog.net.XhrIo} xhrIo The XhrIo object.\n * @private\n */\ngoog.net.XhrManager.prototype.handleAbort_ = function(id, xhrIo) {\n  // Fire event.\n  // NOTE: The complete event should always be fired before the abort event, so\n  // the bulk of the work is done in handleComplete.\n  this.dispatchEvent(\n      new goog.net.XhrManager.Event(goog.net.EventType.ABORT, this, id, xhrIo));\n};\n\n\n/**\n * Handles the success of a request. Dispatches the SUCCESS event and sets the\n * the request as completed.\n * @param {string} id The id of the request.\n * @param {goog.net.XhrIo} xhrIo The XhrIo object.\n * @private\n */\ngoog.net.XhrManager.prototype.handleSuccess_ = function(id, xhrIo) {\n  // Fire event.\n  // NOTE: We don't release the XhrIo object from the pool here.\n  // It is released in the retry method, when we know it is back in the\n  // ready state.\n  this.dispatchEvent(\n      new goog.net.XhrManager.Event(\n          goog.net.EventType.SUCCESS, this, id, xhrIo));\n};\n\n\n/**\n * Handles the error of a request. If the request has not reach its maximum\n * number of retries, then it lets the request retry naturally (will let the\n * request hit the READY state). Else, it dispatches the ERROR event.\n * @param {string} id The id of the request.\n * @param {goog.net.XhrIo} xhrIo The XhrIo object.\n * @private\n */\ngoog.net.XhrManager.prototype.handleError_ = function(id, xhrIo) {\n  var request = this.requests_.get(id);\n\n  // If the maximum number of retries has been reached.\n  if (request.hasReachedMaxRetries()) {\n    // Fire event.\n    // NOTE: We don't release the XhrIo object from the pool here.\n    // It is released in the retry method, when we know it is back in the\n    // ready state.\n    this.dispatchEvent(\n        new goog.net.XhrManager.Event(\n            goog.net.EventType.ERROR, this, id, xhrIo));\n  }\n};\n\n\n/**\n * Remove listeners for XHR events on an XhrIo object.\n * @param {goog.net.XhrIo} xhrIo The object to stop listenening to events on.\n * @param {Function} func The callback to remove from event handling.\n * @param {string|Array<string>=} opt_types Event types to remove listeners\n *     for. Defaults to XHR_EVENT_TYPES_.\n * @private\n */\ngoog.net.XhrManager.prototype.removeXhrListener_ = function(\n    xhrIo, func, opt_types) {\n  var types = opt_types || goog.net.XhrManager.XHR_EVENT_TYPES_;\n  this.eventHandler_.unlisten(xhrIo, types, func);\n};\n\n\n/**\n * Adds a listener for XHR events on an XhrIo object.\n * @param {goog.net.XhrIo} xhrIo The object listen to events on.\n * @param {Function} func The callback when the event occurs.\n * @param {string|Array<string>=} opt_types Event types to attach listeners to.\n *     Defaults to XHR_EVENT_TYPES_.\n * @private\n */\ngoog.net.XhrManager.prototype.addXhrListener_ = function(\n    xhrIo, func, opt_types) {\n  var types = opt_types || goog.net.XhrManager.XHR_EVENT_TYPES_;\n  this.eventHandler_.listen(xhrIo, types, func);\n};\n\n\n/** @override */\ngoog.net.XhrManager.prototype.disposeInternal = function() {\n  goog.net.XhrManager.superClass_.disposeInternal.call(this);\n\n  this.xhrPool_.dispose();\n  this.xhrPool_ = null;\n\n  this.eventHandler_.dispose();\n  this.eventHandler_ = null;\n\n  this.requests_.clear();\n  this.requests_ = null;\n};\n\n\n\n/**\n * An event dispatched by XhrManager.\n *\n * @param {goog.net.EventType} type Event Type.\n * @param {goog.net.XhrManager} target Reference to the object that is the\n *     target of this event.\n * @param {string} id The id of the request this event is for.\n * @param {goog.net.XhrIo} xhrIo The XhrIo object of the request.\n * @constructor\n * @extends {goog.events.Event}\n * @final\n */\ngoog.net.XhrManager.Event = function(type, target, id, xhrIo) {\n  goog.events.Event.call(this, type, target);\n\n  /**\n   * The id of the request this event is for.\n   * @type {string}\n   */\n  this.id = id;\n\n  /**\n   * The XhrIo object of the request.\n   * @type {goog.net.XhrIo}\n   */\n  this.xhrIo = xhrIo;\n};\ngoog.inherits(goog.net.XhrManager.Event, goog.events.Event);\n\n\n\n/**\n * An encapsulation of everything needed to make a Xhr request.\n * NOTE: This is used internal to the XhrManager.\n *\n * @param {string} url Uri to make the request too.\n * @param {Function} xhrEventCallback Callback attached to the events of the\n *     XhrIo object of the request.\n * @param {string=} opt_method Send method, default: GET.\n * @param {ArrayBuffer|ArrayBufferView|Blob|Document|FormData|string=}\n *     opt_content Post data.\n * @param {Object|goog.structs.Map=} opt_headers Map of headers to add to the\n *     request.\n * @param {Function=} opt_callback Callback function for when request is\n *     complete. NOTE: Only 1 callback supported across all events.\n * @param {number=} opt_maxRetries The maximum number of times the request\n *     should be retried (Default: 1).\n * @param {goog.net.XhrIo.ResponseType=} opt_responseType The response type of\n *     this request; defaults to goog.net.XhrIo.ResponseType.DEFAULT.\n * @param {boolean=} opt_withCredentials Add credentials to this request,\n *     default: false.\n *\n * @constructor\n * @final\n */\ngoog.net.XhrManager.Request = function(\n    url, xhrEventCallback, opt_method, opt_content, opt_headers, opt_callback,\n    opt_maxRetries, opt_responseType, opt_withCredentials) {\n  /**\n   * Uri to make the request too.\n   * @type {string}\n   * @private\n   */\n  this.url_ = url;\n\n  /**\n   * Send method.\n   * @type {string}\n   * @private\n   */\n  this.method_ = opt_method || 'GET';\n\n  /**\n   * Post data.\n   * @type {ArrayBuffer|ArrayBufferView|Blob|Document|FormData|string|undefined}\n   * @private\n   */\n  this.content_ = opt_content;\n\n  /**\n   *  Map of headers\n   * @type {Object|goog.structs.Map|null}\n   * @private\n   */\n  this.headers_ = opt_headers || null;\n\n  /**\n   * The maximum number of times the request should be retried.\n   * @type {number}\n   * @private\n   */\n  this.maxRetries_ = (opt_maxRetries !== undefined) ? opt_maxRetries : 1;\n\n  /**\n   * The number of attempts  so far.\n   * @type {number}\n   * @private\n   */\n  this.attemptCount_ = 0;\n\n  /**\n   * Whether the request has been completed.\n   * @type {boolean}\n   * @private\n   */\n  this.completed_ = false;\n\n  /**\n   * Whether the request has been aborted.\n   * @type {boolean}\n   * @private\n   */\n  this.aborted_ = false;\n\n  /**\n   * Callback attached to the events of the XhrIo object.\n   * @type {Function}\n   * @private\n   */\n  this.xhrEventCallback_ = xhrEventCallback;\n\n  /**\n   * Callback function called when request is complete.\n   * @type {Function|undefined}\n   * @private\n   */\n  this.completeCallback_ = opt_callback;\n\n  /**\n   * A response type to set on this.xhrIo when it's populated.\n   * @type {!goog.net.XhrIo.ResponseType}\n   * @private\n   */\n  this.responseType_ = opt_responseType || goog.net.XhrIo.ResponseType.DEFAULT;\n\n  /**\n   * Send credentials with this request, or not.\n   * @private {boolean}\n   */\n  this.withCredentials_ = !!opt_withCredentials;\n\n  /**\n   * The XhrIo instance handling this request. Set in handleAvailableXhr.\n   * @type {?goog.net.XhrIo}\n   */\n  this.xhrIo = null;\n\n};\n\n\n/**\n * Gets the uri.\n * @return {string} The uri to make the request to.\n */\ngoog.net.XhrManager.Request.prototype.getUrl = function() {\n  return this.url_;\n};\n\n\n/**\n * Gets the send method.\n * @return {string} The send method.\n */\ngoog.net.XhrManager.Request.prototype.getMethod = function() {\n  return this.method_;\n};\n\n\n/**\n * Gets the post data.\n * @return {ArrayBuffer|ArrayBufferView|Blob|Document|FormData|string|undefined}\n *     The post data.\n */\ngoog.net.XhrManager.Request.prototype.getContent = function() {\n  return this.content_;\n};\n\n\n/**\n * Gets the map of headers.\n * @return {Object|goog.structs.Map} The map of headers.\n */\ngoog.net.XhrManager.Request.prototype.getHeaders = function() {\n  return this.headers_;\n};\n\n\n/**\n * Gets the withCredentials flag.\n * @return {boolean} Add credentials, or not.\n */\ngoog.net.XhrManager.Request.prototype.getWithCredentials = function() {\n  return this.withCredentials_;\n};\n\n\n/**\n * Gets the maximum number of times the request should be retried.\n * @return {number} The maximum number of times the request should be retried.\n */\ngoog.net.XhrManager.Request.prototype.getMaxRetries = function() {\n  return this.maxRetries_;\n};\n\n\n/**\n * Gets the number of attempts so far.\n * @return {number} The number of attempts so far.\n */\ngoog.net.XhrManager.Request.prototype.getAttemptCount = function() {\n  return this.attemptCount_;\n};\n\n\n/**\n * Increases the number of attempts so far.\n */\ngoog.net.XhrManager.Request.prototype.increaseAttemptCount = function() {\n  this.attemptCount_++;\n};\n\n\n/**\n * Returns whether the request has reached the maximum number of retries.\n * @return {boolean} Whether the request has reached the maximum number of\n *     retries.\n */\ngoog.net.XhrManager.Request.prototype.hasReachedMaxRetries = function() {\n  return this.attemptCount_ > this.maxRetries_;\n};\n\n\n/**\n * Sets the completed status.\n * @param {boolean} complete The completed status.\n */\ngoog.net.XhrManager.Request.prototype.setCompleted = function(complete) {\n  this.completed_ = complete;\n};\n\n\n/**\n * Gets the completed status.\n * @return {boolean} The completed status.\n */\ngoog.net.XhrManager.Request.prototype.getCompleted = function() {\n  return this.completed_;\n};\n\n\n/**\n * Sets the aborted status.\n * @param {boolean} aborted True if the request was aborted, otherwise False.\n */\ngoog.net.XhrManager.Request.prototype.setAborted = function(aborted) {\n  this.aborted_ = aborted;\n};\n\n\n/**\n * Gets the aborted status.\n * @return {boolean} True if request was aborted, otherwise False.\n */\ngoog.net.XhrManager.Request.prototype.getAborted = function() {\n  return this.aborted_;\n};\n\n\n/**\n * Gets the callback attached to the events of the XhrIo object.\n * @return {Function} The callback attached to the events of the\n *     XhrIo object.\n */\ngoog.net.XhrManager.Request.prototype.getXhrEventCallback = function() {\n  return this.xhrEventCallback_;\n};\n\n\n/**\n * Gets the callback for when the request is complete.\n * @return {Function|undefined} The callback for when the request is complete.\n */\ngoog.net.XhrManager.Request.prototype.getCompleteCallback = function() {\n  return this.completeCallback_;\n};\n\n\n/**\n * Gets the response type that will be set on this request's XhrIo when it's\n * available.\n * @return {!goog.net.XhrIo.ResponseType} The response type to be set\n *     when an XhrIo becomes available to this request.\n */\ngoog.net.XhrManager.Request.prototype.getResponseType = function() {\n  return this.responseType_;\n};\n"],
"names":["goog","provide","require","net","XhrManager","goog.net.XhrManager","opt_maxRetries","opt_headers","opt_minCount","opt_maxCount","opt_timeoutInterval","opt_withCredentials","base","maxRetries_","undefined","timeoutInterval_","Math","max","withCredentials_","xhrPool_","XhrIoPool","requests_","structs","Map","eventHandler_","events","EventHandler","inherits","EventTarget","ERROR_ID_IN_USE_","XHR_EVENT_TYPES_","EventType","READY","COMPLETE","SUCCESS","ERROR","ABORT","TIMEOUT","prototype","setTimeoutInterval","goog.net.XhrManager.prototype.setTimeoutInterval","ms","getOutstandingCount","goog.net.XhrManager.prototype.getOutstandingCount","getCount","getOutstandingRequestIds","goog.net.XhrManager.prototype.getOutstandingRequestIds","getKeys","send","goog.net.XhrManager.prototype.send","id","url","opt_method","opt_content","opt_priority","opt_callback","opt_responseType","requests","get","Error","request","Request","bind","handleEvent_","set","callback","handleAvailableXhr_","getObject","abort","goog.net.XhrManager.prototype.abort","opt_force","xhrIo","setAborted","removeXhrListener_","getXhrEventCallback","listenOnce","releaseObject","remove","goog.net.XhrManager.prototype.handleAvailableXhr_","addXhrListener_","setResponseType","getResponseType","setWithCredentials","getWithCredentials","dispatchEvent","Event","retry_","getAborted","goog.net.XhrManager.prototype.handleEvent_","e","target","type","handleComplete_","handleSuccess_","handleError_","handleAbort_","goog.net.XhrManager.prototype.retry_","getCompleted","hasReachedMaxRetries","increaseAttemptCount","getUrl","getMethod","getContent","getHeaders","goog.net.XhrManager.prototype.handleComplete_","getLastErrorCode","ErrorCode","isSuccess","setCompleted","getCompleteCallback","call","goog.net.XhrManager.prototype.handleAbort_","goog.net.XhrManager.prototype.handleSuccess_","goog.net.XhrManager.prototype.handleError_","goog.net.XhrManager.prototype.removeXhrListener_","func","opt_types","types","unlisten","goog.net.XhrManager.prototype.addXhrListener_","listen","disposeInternal","goog.net.XhrManager.prototype.disposeInternal","superClass_","dispose","clear","goog.net.XhrManager.Event","goog.net.XhrManager.Request","xhrEventCallback","url_","method_","content_","headers_","attemptCount_","completed_","aborted_","xhrEventCallback_","completeCallback_","responseType_","XhrIo","ResponseType","DEFAULT","goog.net.XhrManager.Request.prototype.getUrl","goog.net.XhrManager.Request.prototype.getMethod","goog.net.XhrManager.Request.prototype.getContent","goog.net.XhrManager.Request.prototype.getHeaders","goog.net.XhrManager.Request.prototype.getWithCredentials","getMaxRetries","goog.net.XhrManager.Request.prototype.getMaxRetries","getAttemptCount","goog.net.XhrManager.Request.prototype.getAttemptCount","goog.net.XhrManager.Request.prototype.increaseAttemptCount","goog.net.XhrManager.Request.prototype.hasReachedMaxRetries","goog.net.XhrManager.Request.prototype.setCompleted","complete","goog.net.XhrManager.Request.prototype.getCompleted","goog.net.XhrManager.Request.prototype.setAborted","aborted","goog.net.XhrManager.Request.prototype.getAborted","goog.net.XhrManager.Request.prototype.getXhrEventCallback","goog.net.XhrManager.Request.prototype.getCompleteCallback","goog.net.XhrManager.Request.prototype.getResponseType"]
}
