shadow$provide.module$node_modules$roughjs$bin$canvas=function(global,require,module,exports){function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;"value"in descriptor&&(descriptor.writable=!0);Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){protoProps&&_defineProperties(Constructor.prototype,protoProps);staticProps&&
_defineProperties(Constructor,staticProps);return Constructor}Object.defineProperty(exports,"__esModule",{value:!0});exports.RoughCanvas=void 0;var _core=require("module$node_modules$roughjs$bin$core"),_generator=require("module$node_modules$roughjs$bin$generator"),hasDocument="undefined"!==typeof document;global=function(){function RoughCanvas(canvas,config){if(!(this instanceof RoughCanvas))throw new TypeError("Cannot call a class as a function");this.canvas=canvas;this.ctx=this.canvas.getContext("2d");
this.gen=new _generator.RoughGenerator(config,this.canvas)}_createClass(RoughCanvas,[{key:"draw",value:function(drawable){var sets=drawable.sets||[];drawable=drawable.options||this.getDefaultOptions();var ctx=this.ctx,_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _iterator=sets[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var drawing=_step.value;switch(drawing.type){case "path":ctx.save();ctx.strokeStyle=
"none"===drawable.stroke?"transparent":drawable.stroke;ctx.lineWidth=drawable.strokeWidth;this._drawToContext(ctx,drawing);ctx.restore();break;case "fillPath":ctx.save();ctx.fillStyle=drawable.fill||"";this._drawToContext(ctx,drawing);ctx.restore();break;case "fillSketch":this.fillSketch(ctx,drawing,drawable);break;case "path2Dfill":this.ctx.save();this.ctx.fillStyle=drawable.fill||"";var p2d=new Path2D(drawing.path);this.ctx.fill(p2d);this.ctx.restore();break;case "path2Dpattern":var doc=this.canvas.ownerDocument||
hasDocument&&document;if(doc){var size=drawing.size,hcanvas=doc.createElement("canvas"),hcontext=hcanvas.getContext("2d"),bbox=this.computeBBox(drawing.path);bbox&&(bbox.width||bbox.height)?(hcanvas.width=this.canvas.width,hcanvas.height=this.canvas.height,hcontext.translate(bbox.x||0,bbox.y||0)):(hcanvas.width=size[0],hcanvas.height=size[1]);this.fillSketch(hcontext,drawing,drawable);this.ctx.save();this.ctx.fillStyle=this.ctx.createPattern(hcanvas,"repeat");var _p2d=new Path2D(drawing.path);this.ctx.fill(_p2d);
this.ctx.restore()}else console.error("Pattern fill fail: No defs")}}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&null!=_iterator["return"])_iterator["return"]()}finally{if(_didIteratorError)throw _iteratorError;}}}},{key:"computeBBox",value:function(d){if(hasDocument)try{var svg=document.createElementNS(_core.SVGNS,"svg");svg.setAttribute("width","0");svg.setAttribute("height","0");var pathNode=self.document.createElementNS(_core.SVGNS,"path");pathNode.setAttribute("d",
d);svg.appendChild(pathNode);document.body.appendChild(svg);var bbox=pathNode.getBBox();document.body.removeChild(svg);return bbox}catch(err){}return null}},{key:"fillSketch",value:function(ctx,drawing,o){var fweight=o.fillWeight;0>fweight&&(fweight=o.strokeWidth/2);ctx.save();ctx.strokeStyle=o.fill||"";ctx.lineWidth=fweight;this._drawToContext(ctx,drawing);ctx.restore()}},{key:"_drawToContext",value:function(ctx,drawing){ctx.beginPath();var _iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=
void 0;try{for(var _iterator2=drawing.ops[Symbol.iterator](),_step2;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var item=_step2.value,data=item.data;switch(item.op){case "move":ctx.moveTo(data[0],data[1]);break;case "bcurveTo":ctx.bezierCurveTo(data[0],data[1],data[2],data[3],data[4],data[5]);break;case "qcurveTo":ctx.quadraticCurveTo(data[0],data[1],data[2],data[3]);break;case "lineTo":ctx.lineTo(data[0],data[1])}}}catch(err){_didIteratorError2=!0,
_iteratorError2=err}finally{try{if(!_iteratorNormalCompletion2&&null!=_iterator2["return"])_iterator2["return"]()}finally{if(_didIteratorError2)throw _iteratorError2;}}"fillPath"===drawing.type?ctx.fill():ctx.stroke()}},{key:"getDefaultOptions",value:function(){return this.gen.defaultOptions}},{key:"line",value:function(x1,y1,x2,y2,options){x1=this.gen.line(x1,y1,x2,y2,options);this.draw(x1);return x1}},{key:"rectangle",value:function(x,y,width,height,options){x=this.gen.rectangle(x,y,width,height,
options);this.draw(x);return x}},{key:"ellipse",value:function(x,y,width,height,options){x=this.gen.ellipse(x,y,width,height,options);this.draw(x);return x}},{key:"circle",value:function(x,y,diameter,options){x=this.gen.circle(x,y,diameter,options);this.draw(x);return x}},{key:"linearPath",value:function(points,options){points=this.gen.linearPath(points,options);this.draw(points);return points}},{key:"polygon",value:function(points,options){points=this.gen.polygon(points,options);this.draw(points);
return points}},{key:"arc",value:function(x,y,width,height,start,stop){var d=this.gen.arc(x,y,width,height,start,stop,6<arguments.length&&void 0!==arguments[6]?arguments[6]:!1,7<arguments.length?arguments[7]:void 0);this.draw(d);return d}},{key:"curve",value:function(points,options){points=this.gen.curve(points,options);this.draw(points);return points}},{key:"path",value:function(d,options){d=this.gen.path(d,options);this.draw(d);return d}},{key:"generator",get:function(){return this.gen}}]);return RoughCanvas}();
exports.RoughCanvas=global}
//# sourceMappingURL=module$node_modules$roughjs$bin$canvas.js.map
